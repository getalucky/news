(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e07a772"],{"1d22":function(t,e,s){"use strict";var n=s("42bd"),a=s.n(n);a.a},2141:function(t,e,s){},"42bd":function(t,e,s){},"43b3":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"personal"},[s("i",{staticClass:"iconfont iconjiantou2",on:{click:function(e){return t.$router.back()}}}),s("h1",[t._v(t._s(t.titleName))]),t.show?s("i",{staticClass:"iconfont iconshouye",on:{click:function(e){return t.$router.replace("/")}}}):s("i",{staticClass:"iconfont iconshouye notShow"})])},a=[],i={props:["titleName","show"]},o=i,c=(s("766a"),s("2877")),r=Object(c["a"])(o,n,a,!1,null,"5e805094",null);e["a"]=r.exports},"54f2":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w"},[s("newstitle",{attrs:{titleName:"精彩回帖"}}),t._l(t.commentsList,(function(e,n){return s("div",{key:n,staticClass:"comments"},[s("div",[s("div",{staticClass:"user"},[s("span",[s("img",{attrs:{src:t.$axios.defaults.baseURL+e.user.head_img,alt:""}})]),s("span",[s("p",[t._v(t._s(e.user.nickname))]),s("p",{staticClass:"time"},[t._v(t._s(t.moment(e.create_date).startOf("day").fromNow()))])])]),s("span",{staticClass:"returns",on:{click:function(s){return t.reply(e)}}},[t._v("回复")])]),e.parent?s("conmmentsparent",{attrs:{data:e.parent},on:{reply:t.replyparent}}):t._e(),s("div",{staticClass:"content"},[t._v(t._s(e.content))])],1)})),s("div",{staticClass:"reply",class:t.isfocus?"isfocus":""},[s("van-field",{ref:"textarea",attrs:{rows:"1",type:"textarea",placeholder:t.replymessage},on:{focus:t.setfocus,blur:t.setblur},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),s("span",{on:{click:t.sendReply}},[t._v("发送")])],1),s("div",{class:t.isfocus?"isfixedset":"fixedset"})],2)},a=[],i=s("43b3"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"parent"},[s("div",{staticClass:"parent_user"},[s("div",[s("span",[t._v(t._s(t.data.id))]),s("span",[t._v(t._s(t.data.user.nickname))]),s("span",[t._v(t._s(t.moment(t.data.create_date).startOf("day").fromNow()))])]),s("div",{on:{click:function(e){return t.onReply(t.data)}}},[t._v("回复")])]),s("div",{staticClass:"parent_content"},[t._v(t._s(t.data.content))]),t.data.parent?s("commentparent",{attrs:{data:t.data.parent},on:{reply:t.onReply}}):t._e()],1)},c=[],r=s("c1df"),u=s.n(r),l={name:"commentparent",props:["data"],data:function(){return{moment:u.a}},watch:{data:function(){}},methods:{onReply:function(t){this.$emit("reply",t)}},mounted:function(){}},d=l,m=(s("1d22"),s("2877")),p=Object(m["a"])(d,o,c,!1,null,"42395cf0",null),f=p.exports,v={data:function(){return{commentsList:[],newsIndex:1,moment:u.a,message:"",isfocus:!1,newsId:"",replymessage:"请输入留言",replyId:""}},methods:{setfocus:function(){this.isfocus=!0},setblur:function(){this.isfocus=!1},sendReply:function(){var t=this;""!=this.message&&setTimeout((function(){var e=JSON.parse(localStorage.getItem("userInfo")),s=e.token,n={content:t.message};t.replyId&&(n.parent_id=t.replyId),t.$axios({method:"post",url:"/post_comment/"+t.newsId,headers:{Authorization:s},data:n}).then((function(e){t.$toast(e.data.message),t.message="",t.replymessage="请输入留言",t.replyId="",t.$axios({url:"/post_comment/"+t.newsId}).then((function(e){var s=e.data.data;t.commentsList=s}))}))}),50)},reply:function(t){this.$refs.textarea.focus(),this.replymessage="回复".concat(t.user.nickname,":"),this.replyId=t.id},replyparent:function(t){this.replyId=t.id,this.$refs.textarea.focus(),this.replymessage="回复".concat(t.user.nickname,":")}},mounted:function(){var t=this;u.a.locale("zh-cn");var e=this.$route.params.id;this.newsId=e,this.$axios({url:"/post_comment/"+this.newsId}).then((function(e){var s=e.data.data;t.commentsList=s}))},components:{newstitle:i["a"],conmmentsparent:f}},h=v,_=(s("6db4"),Object(m["a"])(h,n,a,!1,null,"25110e2e",null));e["default"]=_.exports},"6db4":function(t,e,s){"use strict";var n=s("de15"),a=s.n(n);a.a},"766a":function(t,e,s){"use strict";var n=s("2141"),a=s.n(n);a.a},de15:function(t,e,s){}}]);